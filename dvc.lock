schema: '2.0'
stages:
  split:
    cmd: python src/split.py data outs/split 0.3
    deps:
    - path: data
      md5: b44385ab179fca2f94480b9a22eab226.dir
      size: 22195
      nfiles: 30
    - path: src/split.py
      md5: d1e36ffb76fb72e5941963ce49a21e93
      size: 2193
    outs:
    - path: outs/split
      md5: 9abb03d5f22c80c6aa6f1c39e371f005.dir
      size: 23053
      nfiles: 2
    - path: outs/split.json
      md5: 2a88d3d024104e6842f63584ab39a7f0
      size: 143
  train:
    cmd: python src/train.py outs/split outs/train
    deps:
    - path: outs/split
      md5: 9abb03d5f22c80c6aa6f1c39e371f005.dir
      size: 23053
      nfiles: 2
    - path: src/train.py
      md5: 88b3603bbcc81466d7c181c439ee66ac
      size: 2364
    params:
      params.yaml:
        train:
          output_folder: outs/train
          pretrained_model: Recognai/zeroshot_selectra_small
          epochs: 8
          train_batch_size: 4
          eval_batch_size: 8
          labels:
          - Comida
          - Hobby
          - Libro
          learning_rate: 0.0001
    outs:
    - path: dvclive
      md5: 307ae87ffebc72b98cbc45dbecc92d7a.dir
      size: 1676
      nfiles: 10
    - path: outs/train
      md5: 174c5de08e020f74716dca05d6a20ee9.dir
      size: 91153509
      nfiles: 7
  eval:
    cmd: python src/eval.py outs/train outs/eval
    deps:
    - path: outs/train
      md5: 174c5de08e020f74716dca05d6a20ee9.dir
      size: 91153509
      nfiles: 7
    - path: src/eval.py
      md5: fa24f001e1840c0fe5752b8b64303279
      size: 707
    outs:
    - path: outs/eval/confusion.json
      md5: a2af4b1ebcf6ba62b1e760aee2b90ee2
      size: 651
